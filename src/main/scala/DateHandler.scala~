import akka.actor._
import akka.io._
import akka.util._
import java.net._
import com.typesafe.config._
import org.springframework.jdbc.core._
import scala.util._
import akka.event._

class DateHandler extends TextQueryHandler("^date$".r) {

        def apply(src: ActorRef, owner: ActorRef, db: JdbcTemplate, config: Config, log: LoggingAdapter, message: String, content: ByteString): Try[Next] = Try {
                src ! Tcp.Write(ByteString("%s\r\n".format(new java.util.Date())))
                Next("default", Map("buffer" -> content))
        }
}
