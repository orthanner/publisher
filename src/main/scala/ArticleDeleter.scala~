import akka.actor._
import akka.io._
import akka.util._
import java.net._
import com.typesafe.config._
import org.springframework.jdbc.core._
import scala.util._
import java.io._
import java.nio.file._
import java.util.Base64
import java.sql.ResultSet
import akka.event._

class ArticleDeleter extends TextQueryHandler("^delete article (?<id>\\d+) as (?<token>[A-F0-9]+)$".r) with JdbcHelpers with ArticleUtils {
	import Tcp._
	import Base64._
	import org.json4s._
	import org.json4s.JsonDSL._
	import org.json4s.jackson.JsonMethods._

        val DATE_FORMAT = new java.text.SimpleDateFormat("yyyy-MM-dd")

	def apply(src: ActorRef, owner: ActorRef, db: JdbcTemplate, config: Config, log: LoggingAdapter, message: String, content: ByteString): Try[Next] = Try {
		val pattern(id, token) = message
                Next("default", Map("buffer" -> content))
	}
}
